var Yargs = require('yargs').argv;
var Fs = require('fs');

var report = '';
var results = {};

if (Yargs.f) {
    var Results = require('../'+Yargs.f);
}
else
{
   console.log('-f <file>.json -r <tap,junit,coverage,console>');
   return 2
}

if ( Yargs.r === 'tap' ) {

   var report = 'tap';
}
else if ( Yargs.r === 'junit' ) {

   var report = 'junit';
}
else if ( Yargs.r === 'console' ) {

   var report = 'console';
}
else if ( Yargs.r === 'coverage' ) {

   var report = 'coverage';
}
else {

   console.log('you did not pick a valid report');
   return 2;
}

//console.log('you picked report '+report);
//console.log('Importing ./'+report+'.js');
var Reporter = require('./'+report+'.js');
//console.log('Converting '+Yargs.f);
var output = Reporter.convert(Results);
//console.log(output);
